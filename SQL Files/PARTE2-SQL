-- Primero se crean las tablas los las columnas que coincidan con las del CSV

CREATE TABLE customers(
	customer_id VARCHAR(150) PRIMARY KEY, 
	customer_unique_id VARCHAR(150),
	customer_zip_code_prefix INTEGER,
	customer_city VARCHAR(100), 
	customer_state VARCHAR (2)
);

CREATE TABLE orders(
	order_id VARCHAR(100) PRIMARY KEY, 
	customer_id VARCHAR (100), 
	order_status VARCHAR (20), 
	order_purchase_timestamp TIMESTAMP,
	order_approved_at TIMESTAMP,
	order_delivered_carrier_date TIMESTAMP,
	order_delivered_customer_date TIMESTAMP, 
	order_estimated_delivery_date TIMESTAMP

);

CREATE TABLE order_items(
	order_id VARCHAR(100), 
	order_item_id INTEGER, 
	product_id VARCHAR(100), 
	seller_id VARCHAR (100), 
	shipping_limit_date TIMESTAMP,
	price NUMERIC (10,2), 
	freight_value NUMERIC (10,2),
	PRIMARY KEY (order_id,order_item_id)
);

CREATE TABLE payments (
	order_id VARCHAR (100),
	payment_sequential INTEGER,
	payment_type VARCHAR(20),
	payment_installments INTEGER,
	payment_value NUMERIC (10,2),
	PRIMARY KEY (order_id,payment_sequential)
);

CREATE TABLE reviews (
	review_id VARCHAR(100), 
	order_id VARCHAR (100), 
	review_score INTEGER, 
	review_comment_title VARCHAR(100),
	review_comment_message VARCHAR (250),
	review_creation_date TIMESTAMP,
	review_answer_timestamp TIMESTAMP,
	PRIMARY KEY (review_id,order_id)
);

CREATE TABLE products (
	product_id VARCHAR(100) PRIMARY KEY,	
	product_category_name VARCHAR(100),	
	product_name_lenght INTEGER,	
	product_description_lenght INTEGER,	
	product_photos_qty INTEGER,	
	product_weight_g INTEGER,	
	product_length_cm INTEGER,
	product_height_cm INTEGER, 
	product_width_cm INTEGER

);

CREATE TABLE sellers (
	seller_id VARCHAR(100) PRIMARY KEY,	
	seller_zip_code_prefix INTEGER,	
	seller_city VARCHAR(100),	
	seller_state VARCHAR (2)
);

SELECT * FROM customers LIMIT 10;